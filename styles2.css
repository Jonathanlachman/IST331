:root{
    --blue:#155ee9;
    --blue-2:#1e66f5;
    --danger:#e02626;
    --bg:#f4f7fe;
    --ink:#0f172a;
    --muted:#6b7a90;
    --card:#fff;
    --shadow:0 12px 28px rgba(2,6,23,.08);
    --radius:16px;
    --sidebar:360px;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
    margin:0; font:16px/1.5 ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial;
    color:var(--ink); background:var(--bg);
}

/* Bars */
.appbar{
    height:46px; display:flex; align-items:center; gap:10px;
    background:var(--blue); color:#fff; padding:0 14px; position:sticky; top:0; z-index:10;
    box-shadow:0 1px 0 rgba(255,255,255,.1) inset;
}
.appbar strong{font-weight:700}
.spacer{flex:1}
.btn-chip{
    border:0; background:rgba(255,255,255,.18); color:#fff; padding:8px 10px; border-radius:10px; cursor:pointer;
}
.btn-chip.warn{background:rgba(255,231,0,.25); color:#1b1b1b}
.notice{
    background:var(--danger); color:#fff; padding:8px 12px; font-size:14px; border-bottom:3px solid #c41111;
}

/* Layout */
.layout{
    display:grid; grid-template-columns:1fr var(--sidebar); gap:18px;
    max-width:1200px; margin:14px auto; padding:0 14px;
}
.work{min-width:0}
.cart{
    background:#e8f0ff; border-left:4px solid var(--blue); border-radius:0 0 0 var(--radius);
    display:flex; flex-direction:column; height:calc(100vh - 46px - 40px);
    position:sticky; top:86px; /* below bars */
}
.cart-head{
    background:var(--blue); color:#fff; padding:12px 16px; font-weight:700;
}
.cart-empty{flex:1; display:grid; place-items:center; text-align:center; padding:24px; color:#8795a8}
.cart-empty-icon{font-size:48px; opacity:.6}
.cart-empty-title{font-weight:700; margin-top:6px}
.cart-empty-sub{font-size:14px}

.cart-list{list-style:none; margin:0; padding:0; overflow:auto; flex:1; background:#fff}
.cart-item{display:flex; align-items:center; justify-content:space-between; padding:12px 14px; border-bottom:1px solid #eef2f7}
.cart-meta{display:flex; flex-direction:column}
.cart-name{font-weight:600}
.cart-sub{font-size:13px; color:var(--muted)}
.cart-amt{display:flex; align-items:center; gap:8px}
.qty{display:inline-flex; align-items:center; border:1px solid #d9e1ee; border-radius:10px; overflow:hidden}
.qty button{border:0; background:#f2f5fb; padding:6px 10px; cursor:pointer}
.qty span{padding:0 10px}
.line-total{min-width:70px; text-align:right; font-weight:700}

.cart-summary{padding:14px 16px; background:#f6f8fe; border-top:1px solid #e5ebf7}
.sum-row{display:flex; align-items:center; justify-content:space-between; font-size:18px}
.sum-sub{font-size:12px; color:var(--muted)}

.cart-cta{padding:12px 16px; display:grid; gap:10px; background:#f6f8fe; border-top:1px solid #e5ebf7}

/* Work area */
.card{
    background:var(--card); border-radius:var(--radius); box-shadow:var(--shadow);
    padding:14px; margin-bottom:14px;
}

/* Scan pad */
.pad .pad-area{
    background:#e6f0ff; border:2px dashed #cfe0ff; border-radius:12px; height:130px;
    display:grid; place-items:center; margin:6px 6px 12px;
}
.pad-icon{font-size:36px; color:#3a63d1; opacity:.6}
.pad-text{color:#3157ba; font-weight:600}
.pad-entry{display:flex; gap:10px}
.pad-entry input{
    flex:1; padding:12px 14px; border-radius:10px; border:1px solid #d9e1ee; background:#fff;
}
.btn{border:1px solid #d9e1ee; background:#fff; border-radius:10px; padding:10px 14px; cursor:pointer}
.btn-primary{background:var(--blue); color:#fff; border:0}
.btn-success{background:#39b66d; color:#fff; border:0}
.btn-ghost{background:#fff; border:1px solid #e0e6f2}

/* Action tiles */
.actions{display:grid; grid-template-columns:1fr 1fr; gap:14px}
.tile{
    display:grid; place-items:center; gap:6px; padding:22px; border-radius:12px; border:1px solid #e4eaf6; background:#fff; cursor:pointer;
}
.tile:hover{box-shadow:var(--shadow)}
.tile-icon{font-size:20px}
.tile-title{font-weight:600}

/* Quick add */
.qa-head{font-weight:700; margin-bottom:8px}
.qa-list{
    display:grid; grid-template-columns:1fr 1fr; gap:10px; max-height:420px; overflow:auto; padding-right:6px;
}
.qa-item{
    border:1px solid #e7ecf7; border-radius:12px; padding:10px 12px; background:#fff;
    display:flex; flex-direction:column; gap:6px; cursor:pointer;
}
.qa-item:hover{box-shadow:var(--shadow)}
.qa-id{font-size:12px; color:#8b97a6}
.qa-name{font-weight:600}
.qa-price{color:#1b55d5; font-weight:700}

/* Dialogs */
dialog{width:min(560px, 92vw); border:0; border-radius:14px; padding:0; box-shadow:var(--shadow)}
dialog::backdrop{background:rgba(2,6,23,.45)}
.dialog .dlg-hd{padding:14px 16px; font-weight:700; border-bottom:1px solid #eef2f7}
.dialog .dlg-bd{padding:16px}
.dialog .dlg-ft{padding:12px 16px; border-top:1px solid #eef2f7; display:flex; justify-content:flex-end; gap:10px}
.lbl{display:block; font-size:13px; color:var(--muted)}
.dialog input{width:100%; padding:10px 12px; border:1px solid #d9e1ee; border-radius:10px; margin:6px 0 12px}
.hint{font-size:12px; color:var(--muted)}

@media (max-width:980px){
    :root{ --sidebar:320px; }
    .qa-list{grid-template-columns:1fr}
}
@media (max-width:760px){
    .layout{grid-template-columns:1fr}
    .cart{position:static; height:auto; border-left:0; border-radius:var(--radius)}
}
